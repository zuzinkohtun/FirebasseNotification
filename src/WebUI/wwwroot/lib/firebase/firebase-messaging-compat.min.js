!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(kt,It){"use strict";try{!function(){var i,e=(e=kt)&&"object"==typeof e&&"default"in e?e:{default:e};function x(){try{return"object"==typeof indexedDB}catch(e){return!1}}class a extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o.prototype.create)}}class o{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var i,t=t[0]||{},n=this.service+"/"+e,e=(e=this.errors[e])?(i=t,e.replace(L,(e,t)=>{var n=i[t];return null!=n?String(n):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${n}).`;return new a(n,e,t)}}const L=/\{\$([^}]+)}/g;function r(e){return e&&e._delegate?e._delegate:e}class t{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const B=(t,e)=>e.some(e=>t instanceof e);let F,H;const R=new WeakMap,s=new WeakMap,q=new WeakMap,c=new WeakMap,p=new WeakMap;let u={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||q.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function V(e){return"function"==typeof e?(n=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(H=H||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(n)?function(...e){return n.apply(l(this),e),d(R.get(this))}:function(...e){return d(n.apply(l(this),e))}:function(e,...t){t=n.call(l(this),e,...t);return q.set(t,e.sort?e.sort():[e]),d(t)}:(e instanceof IDBTransaction&&(o=e,s.has(o)||(t=new Promise((e,t)=>{const n=()=>{o.removeEventListener("complete",i),o.removeEventListener("error",a),o.removeEventListener("abort",a)},i=()=>{e(),n()},a=()=>{t(o.error||new DOMException("AbortError","AbortError")),n()};o.addEventListener("complete",i),o.addEventListener("error",a),o.addEventListener("abort",a)}),s.set(o,t))),B(e,F=F||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,u):e);var n,o,t}function d(e){if(e instanceof IDBRequest){var o=e;const n=new Promise((e,t)=>{const n=()=>{o.removeEventListener("success",i),o.removeEventListener("error",a)},i=()=>{e(d(o.result)),n()},a=()=>{t(o.error),n()};o.addEventListener("success",i),o.addEventListener("error",a)});return n.then(e=>{e instanceof IDBCursor&&R.set(e,o)}).catch(()=>{}),p.set(n,o),n}if(c.has(e))return c.get(e);var t=V(e);return t!==e&&(c.set(e,t),p.set(t,e)),t}const l=e=>p.get(e);function f(e,t,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const r=indexedDB.open(e,t),s=d(r);return i&&r.addEventListener("upgradeneeded",e=>{i(d(r.result),e.oldVersion,e.newVersion,d(r.transaction),e)}),n&&r.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),d(n).then(()=>{})}const W=["get","getKey","getAll","getAllKeys","count"],$=["put","add","delete","clear"],n=new Map;function U(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(n.get(t))return n.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=$.includes(i);return i in(a?IDBIndex:IDBObjectStore).prototype&&(o||W.includes(i))?(e=async function(e,...t){e=this.transaction(e,o?"readwrite":"readonly");let n=e.store;return a&&(n=n.index(t.shift())),(await Promise.all([n[i](...t),o&&e.done]))[0]},n.set(t,e),e):void 0}}u={...i=u,get:(e,t,n)=>U(e,t)||i.get(e,t,n),has:(e,t)=>!!U(e,t)||i.has(e,t)};var w,h,m,b,v="@firebase/installations",y="0.6.4";const G=1e4,J="w:"+y,z="FIS_v2",Y="https://firebaseinstallations.googleapis.com/v1",Q=36e5,k=new o("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Z(e){return e instanceof a&&e.code.includes("request-failed")}function X({projectId:e}){return Y+`/projects/${e}/installations`}function ee(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function te(e,t){t=(await t.json()).error;return k.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function ne({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function ie(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function ae(t){return new Promise(e=>{setTimeout(e,t)})}const oe=/^[cdef][\w-]{21}$/,I="";function S(e){return e.appName+"!"+e.appId}const re=new Map;function se(e,t){e=S(e);ce(e,t);{!T&&"BroadcastChannel"in self&&((T=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{ce(e.data.key,e.data.fid)});const n=T;return n&&n.postMessage({key:e,fid:t}),void(0===re.size&&T&&(T.close(),T=null))}}function ce(e,t){e=re.get(e);if(e)for(const n of e)n(t)}let T=null;const C="firebase-installations-store";let pe=null;function D(){return pe=pe||f("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(C)}})}async function _(e,t){var n=S(e);const i=await D(),a=i.transaction(C,"readwrite"),o=a.objectStore(C);var r=await o.get(n);return await o.put(t,n),await a.done,r&&r.fid===t.fid||se(e,t.fid),t}async function ue(e){e=S(e);const t=await D(),n=t.transaction(C,"readwrite");await n.objectStore(C).delete(e),await n.done}async function j(e,t){var n=S(e);const i=await D(),a=i.transaction(C,"readwrite"),o=a.objectStore(C);var r=await o.get(n),t=t(r);return void 0===t?await o.delete(n):await o.put(t,n),await a.done,!t||r&&r.fid===t.fid||se(e,t.fid),t}async function O(t){let n;var e=await j(t.appConfig,e=>{e=le(e||{fid:function(){try{const t=new Uint8Array(17),n=self.crypto||self.msCrypto;n.getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){const e=function(){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}();return e.substr(0,22)}(t);return oe.test(e)?e:I}catch(e){return I}}(),registrationStatus:0}),e=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await de(e.appConfig);for(;1===t.registrationStatus;)await ae(100),t=await de(e.appConfig);if(0!==t.registrationStatus)return t;var{installationEntry:n,registrationPromise:i}=await O(e);return i||n}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(k.create("app-offline"))};t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:async function(e,t){try{var n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=X(e),a=ne(e),o=t.getImmediate({optional:!0});o&&(r=await o.getHeartbeatsHeader())&&a.append("x-firebase-client",r);var r={fid:n,authVersion:z,appId:e.appId,sdkVersion:J};const s={method:"POST",headers:a,body:JSON.stringify(r)},c=await ie(()=>fetch(i,s));if(c.ok)return{fid:(r=await c.json()).fid||n,registrationStatus:2,refreshToken:r.refreshToken,authToken:ee(r.authToken)};throw await te("Create Installation",c)}(e,t);return _(e.appConfig,n)}catch(n){throw Z(n)&&409===n.customData.serverCode?await ue(e.appConfig):await _(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,t)}}(t,e);return n=e.registrationPromise,e.installationEntry});return e.fid===I?{installationEntry:await n}:{installationEntry:e,registrationPromise:n}}function de(e){return j(e,e=>{if(e)return le(e);throw k.create("installation-not-found")})}function le(e){return 1===e.registrationStatus&&e.registrationTime+G<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function fe({appConfig:e,heartbeatServiceProvider:t},n){[a,o]=[e,n.fid];const i=X(a)+`/${o}/authTokens:generate`;var a,o;const r=function(e,{refreshToken:t}){const n=ne(e);return n.append("Authorization",z+" "+t),n}(e,n),s=t.getImmediate({optional:!0});s&&(c=await s.getHeartbeatsHeader())&&r.append("x-firebase-client",c);var c={installation:{sdkVersion:J,appId:e.appId}};const p={method:"POST",headers:r,body:JSON.stringify(c)},u=await ie(()=>fetch(i,p));if(u.ok)return ee(await u.json());throw await te("Generate Auth Token",u)}async function ge(o,r=!1){let s;var e=await j(o.appConfig,e=>{if(!he(e))throw k.create("not-registered");var t,n,i,a=e.authToken;if(r||2!==(t=a).requestStatus||(n=t,(i=Date.now())<n.creationTime||n.creationTime+n.expiresIn<i+Q)){if(1===a.requestStatus)return s=async function(e,t){let n=await we(e.appConfig);for(;1===n.authToken.requestStatus;)await ae(100),n=await we(e.appConfig);var i=n.authToken;return 0===i.requestStatus?ge(e,t):i}(o,r),e;if(navigator.onLine)return t=e,a={requestStatus:1,requestTime:Date.now()},a=Object.assign(Object.assign({},t),{authToken:a}),s=async function(e,t){try{var n=await fe(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await _(e.appConfig,i),n}catch(i){throw!Z(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode?(n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),await _(e.appConfig,n)):await ue(e.appConfig),i}}(o,a),a;throw k.create("app-offline")}return e});return s?await s:e.authToken}function we(e){return j(e,e=>{if(!he(e))throw k.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+G<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function he(e){return void 0!==e&&2===e.registrationStatus}function me(e){return k.create("missing-app-config-values",{valueName:e})}const be="installations",ve=(It._registerComponent(new t(be,e=>{e=e.getProvider("app").getImmediate();return{app:e,appConfig:function(e){if(!e||!e.options)throw me("App Configuration");if(!e.name)throw me("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw me(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(e),heartbeatServiceProvider:It._getProvider(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),It._registerComponent(new t("installations-internal",e=>{e=e.getProvider("app").getImmediate();const t=It._getProvider(e,be).getImmediate();return{getId:()=>async function(e){const{installationEntry:t,registrationPromise:n}=await O(e);return(n||ge(e)).catch(console.error),t.fid}(t),getToken:e=>async function(e,t=!1){var n;return await((n=(await O(e)).registrationPromise)&&await n),(await ge(e,t)).token}(t,e)}},"PRIVATE")),It.registerVersion(v,y),It.registerVersion(v,y,"esm2017"),"/firebase-messaging-sw.js"),ye="/firebase-cloud-messaging-push-scope",ke="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ie="https://fcmregistrations.googleapis.com/v1",Se="google.c.a.c_id",Te="google.c.a.e";function P(e){e=new Uint8Array(e);const t=btoa(String.fromCharCode(...e));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(v=b=b||{})[v.DATA_MESSAGE=1]="DATA_MESSAGE",v[v.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(b=w=w||{}).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked";const Ce="fcm_token_details_db",De="fcm_token_object_Store";const _e="firebase-messaging-database",je=1,E="firebase-messaging-store";let Oe=null;function Pe(){return Oe=Oe||f(_e,je,{upgrade:(e,t)=>{0===t&&e.createObjectStore(E)}})}async function Ee(e){var t=Ae(e);const n=await Pe();return(t=await n.transaction(E).objectStore(E).get(t))?t:(t=await async function(r){if("databases"in indexedDB){const t=await indexedDB.databases(),n=t.map(e=>e.name);if(!n.includes(Ce))return null}let s=null;const e=await f(Ce,5,{upgrade:async(e,t,n,i)=>{if(!(t<2)&&e.objectStoreNames.contains(De)){const o=i.objectStore(De);var a,e=await o.index("fcmSenderId").get(r);await o.clear(),e&&(2===t?(a=e).auth&&a.p256dh&&a.endpoint&&(s={token:a.fcmToken,createTime:null!=(i=a.createTime)?i:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"==typeof a.vapidKey?a.vapidKey:P(a.vapidKey)}}):3===t?(a=e,s={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:P(a.auth),p256dh:P(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:P(a.vapidKey)}}):4===t&&(s={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:P(e.auth),p256dh:P(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:P(e.vapidKey)}}))}}});return e.close(),await g(Ce),await g("fcm_vapid_details_db"),await g("undefined"),function(e){var t;if(e&&e.subscriptionOptions)return t=e.subscriptionOptions,"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(s)?s:null}(e.appConfig.senderId))?(await Me(e,t),t):void 0}async function Me(e,t){e=Ae(e);const n=await Pe(),i=n.transaction(E,"readwrite");return await i.objectStore(E).put(t,e),await i.done,t}function Ae({appConfig:e}){return e.appId}const M=new o("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Ke(e,t){var n={method:"DELETE",headers:await xe(e)};try{const o=await fetch(Ne(e.appConfig)+"/"+t,n);var i,a=await o.json();if(a.error)throw i=a.error.message,M.create("token-unsubscribe-failed",{errorInfo:i})}catch(e){throw M.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Ne({projectId:e}){return Ie+`/projects/${e}/registrations`}async function xe({appConfig:e,installations:t}){t=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})}function Le({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:t,p256dh:e}};return i!==ke&&(a.web.applicationPubKey=i),a}const Be=6048e5;async function Fe(e){var t=await Ee(e.firebaseDependencies);if(t){await Ke(e.firebaseDependencies,t.token);{t=Ae(t=e.firebaseDependencies);const i=await Pe(),a=i.transaction(E,"readwrite");await a.objectStore(E).delete(t),await a.done}await 0}const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function He(e,t){t={token:await async function(e,t){var n=await xe(e),t=Le(t),t={method:"POST",headers:n,body:JSON.stringify(t)};let i;try{const a=await fetch(Ne(e.appConfig),t);i=await a.json()}catch(e){throw M.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error)throw t=i.error.message,M.create("token-subscribe-failed",{errorInfo:t});if(i.token)return i.token;throw M.create("token-subscribe-no-token")}(e,t),createTime:Date.now(),subscriptionOptions:t};return await Me(e,t),t.token}function Re(e){var t,n,i,a,o={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId},r=o;return(n=e).notification&&(r.notification={},(t=n.notification.title)&&(r.notification.title=t),(t=n.notification.body)&&(r.notification.body=t),(t=n.notification.image)&&(r.notification.image=t),(t=n.notification.icon)&&(r.notification.icon=t)),n=o,(r=e).data&&(n.data=r.data),r=o,(e.fcmOptions||null!=(i=e.notification)&&i.click_action)&&(r.fcmOptions={},(a=null!=(i=null==(i=e.fcmOptions)?void 0:i.link)?i:null==(a=e.notification)?void 0:a.click_action)&&(r.fcmOptions.link=a),(a=null==(a=e.fcmOptions)?void 0:a.analytics_label)&&(r.fcmOptions.analyticsLabel=a)),o}function qe(t,n){const i=[];for(let e=0;e<t.length;e++)i.push(t.charAt(e)),e<n.length&&i.push(n.charAt(e));i.join("")}function Ve(e){return M.create("missing-app-config-values",{valueName:e})}qe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class We{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Ve("App Configuration Object");if(!e.name)throw Ve("App Name");var t=e.options;for(const n of["projectId","apiKey","appId","messagingSenderId"])if(!t[n])throw Ve(n);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function $e(e){try{e.swRegistration=await navigator.serviceWorker.register(ve,{scope:ye}),e.swRegistration.update().catch(()=>{})}catch(e){throw M.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}async function Ue(e,t){if(!navigator)throw M.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw M.create("permission-blocked");var n=e,i=(await((i=null==t?void 0:t.vapidKey)?n.vapidKey=i:n.vapidKey||(n.vapidKey=ke)),e),n=null==t?void 0:t.serviceWorkerRegistration;if(n||i.swRegistration||await $e(i),n||!i.swRegistration){if(!(n instanceof ServiceWorkerRegistration))throw M.create("invalid-sw-registration");i.swRegistration=n}return await 0,async function(e){s=e.swRegistration,i=e.vapidKey;const t=await(await s.pushManager.getSubscription()||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){var e=(i+"=".repeat((4-i.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}()}));var i,n,a,o,r,s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:P(t.getKey("auth")),p256dh:P(t.getKey("p256dh"))},c=await Ee(e.firebaseDependencies);if(c){if(r=c.subscriptionOptions,n=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,n&&a&&o&&r)return Date.now()>=c.createTime+Be?async function(e,t){try{var n=await async function(e,t){var n=await xe(e),i=Le(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(i)};let a;try{const o=await fetch(Ne(e.appConfig)+"/"+t.token,i);a=await o.json()}catch(e){throw M.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(a.error)throw i=a.error.message,M.create("token-update-failed",{errorInfo:i});if(a.token)return a.token;throw M.create("token-update-no-token")}(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Me(e.firebaseDependencies,i),n}catch(t){throw await Fe(e),t}}(e,{token:c.token,createTime:Date.now(),subscriptionOptions:s}):c.token;try{await Ke(e.firebaseDependencies,c.token)}catch(e){console.warn(e)}return He(e.firebaseDependencies,s)}return He(e.firebaseDependencies,s)}(e)}async function Ge(e,t){var n,i=t.data;if(i.isFirebaseMessaging&&(e.onMessageHandler&&i.messageType===w.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Re(i)):e.onMessageHandler.next(Re(i))),n=i.data,"object"==typeof(t=n)&&t&&Se in t&&"1"===n[Te])){t=e;var a=i.messageType;e=n,i=function(){switch(a){case w.NOTIFICATION_CLICKED:return"notification_open";case w.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}();const o=await t.firebaseDependencies.analyticsProvider.get();o.logEvent(i,{message_id:e[Se],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}}y="@firebase/messaging";It._registerComponent(new t("messaging",e=>{const t=new We(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Ge(t,e)),t},"PUBLIC")),It._registerComponent(new t("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Ue(t,e)}},"PRIVATE")),It.registerVersion(y,"0.12.4"),It.registerVersion(y,"0.12.4","esm2017");const Je="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ze="https://fcmregistrations.googleapis.com/v1",Ye="FCM_MSG",Qe="google.c.a.c_id",Ze=3,Xe=1;function A(e){e=new Uint8Array(e);const t=btoa(String.fromCharCode(...e));return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(b=h=h||{})[b.DATA_MESSAGE=1]="DATA_MESSAGE",b[b.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",b=m={PUSH_RECEIVED:"push-received",NOTIFICATION_CLICKED:"notification-clicked"};const et="fcm_token_details_db",tt="fcm_token_object_Store";const nt="firebase-messaging-database",it=1,K="firebase-messaging-store";let at=null;function ot(){return at=at||f(nt,it,{upgrade:(e,t)=>{0===t&&e.createObjectStore(K)}})}async function rt(e){var t=ct(e);const n=await ot();return(t=await n.transaction(K).objectStore(K).get(t))?t:(t=await async function(r){if("databases"in indexedDB){const t=await indexedDB.databases(),n=t.map(e=>e.name);if(!n.includes(et))return null}let s=null;const e=await f(et,5,{upgrade:async(e,t,n,i)=>{if(!(t<2)&&e.objectStoreNames.contains(tt)){const o=i.objectStore(tt);var a,e=await o.index("fcmSenderId").get(r);await o.clear(),e&&(2===t?(a=e).auth&&a.p256dh&&a.endpoint&&(s={token:a.fcmToken,createTime:null!=(i=a.createTime)?i:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"==typeof a.vapidKey?a.vapidKey:A(a.vapidKey)}}):3===t?(a=e,s={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:A(a.auth),p256dh:A(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:A(a.vapidKey)}}):4===t&&(s={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:A(e.auth),p256dh:A(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:A(e.vapidKey)}}))}}});return e.close(),await g(et),await g("fcm_vapid_details_db"),await g("undefined"),function(e){var t;if(e&&e.subscriptionOptions)return t=e.subscriptionOptions,"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(s)?s:null}(e.appConfig.senderId))?(await st(e,t),t):void 0}async function st(e,t){e=ct(e);const n=await ot(),i=n.transaction(K,"readwrite");return await i.objectStore(K).put(t,e),await i.done,t}function ct({appConfig:e}){return e.appId}const N=new o("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function pt(e,t){var n={method:"DELETE",headers:await dt(e)};try{const o=await fetch(ut(e.appConfig)+"/"+t,n);var i,a=await o.json();if(a.error)throw i=a.error.message,N.create("token-unsubscribe-failed",{errorInfo:i})}catch(e){throw N.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function ut({projectId:e}){return ze+`/projects/${e}/registrations`}async function dt({appConfig:e,installations:t}){t=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})}function lt({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:t,p256dh:e}};return i!==Je&&(a.web.applicationPubKey=i),a}async function ft(e){var t=await rt(e.firebaseDependencies);if(t){await pt(e.firebaseDependencies,t.token);{t=ct(t=e.firebaseDependencies);const i=await ot(),a=i.transaction(K,"readwrite");await a.objectStore(K).delete(t),await a.done}await 0}const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function gt(e,t){t={token:await async function(e,t){var n=await dt(e),t=lt(t),t={method:"POST",headers:n,body:JSON.stringify(t)};let i;try{const a=await fetch(ut(e.appConfig),t);i=await a.json()}catch(e){throw N.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error)throw t=i.error.message,N.create("token-subscribe-failed",{errorInfo:t});if(i.token)return i.token;throw N.create("token-subscribe-no-token")}(e,t),createTime:Date.now(),subscriptionOptions:t};return await st(e,t),t.token}function wt(t,n){const i=[];for(let e=0;e<t.length;e++)i.push(t.charAt(e)),e<n.length&&i.push(n.charAt(e));i.join("")}async function ht(e,t){var n=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(n){t.deliveryMetricsExportedToBigQueryEnabled&&await async function(e,t){t=function(e,t){const n={};return e.from&&(n.project_number=e.from),e.fcmMessageId&&(n.message_id=e.fcmMessageId),n.instance_id=t,e.notification?n.message_type=h.DISPLAY_NOTIFICATION.toString():n.message_type=h.DATA_MESSAGE.toString(),n.sdk_platform=Ze.toString(),n.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(n.collapse_key=e.collapse_key),n.event=Xe.toString(),null!=(t=e.fcmOptions)&&t.analytics_label&&(n.analytics_label=null==(t=e.fcmOptions)?void 0:t.analytics_label),n}(t,await e.firebaseDependencies.installations.getId());{const n={};return n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),void e.logEvents.push(n)}}(t,n);var i,a,o,r,s=await mt();if(s.some(e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://"))){var c=s,p=n;p.isFirebaseMessaging=!0,p.messageType=m.PUSH_RECEIVED;for(const u of c)u.postMessage(p)}else n.notification&&(c=function(e){const t=Object.assign({},e.notification);return t.data={[Ye]:e},t}(n),i=c.actions,r=Notification.maxActions,i&&r&&i.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`),await self.registration.showNotification(null!=(r=c.title)?r:"",c)),t&&t.onBackgroundMessageHandler&&(s=r={from:(i=n).from,collapseKey:i.collapse_key,messageId:i.fcmMessageId},(e=i).notification&&(s.notification={},(n=e.notification.title)&&(s.notification.title=n),(n=e.notification.body)&&(s.notification.body=n),(n=e.notification.image)&&(s.notification.image=n),(n=e.notification.icon)&&(s.notification.icon=n)),e=r,(s=i).data&&(e.data=s.data),s=r,(i.fcmOptions||null!=(a=i.notification)&&a.click_action)&&(s.fcmOptions={},(o=null!=(a=null==(a=i.fcmOptions)?void 0:a.link)?a:null==(o=i.notification)?void 0:o.click_action)&&(s.fcmOptions.link=o),(o=null==(o=i.fcmOptions)?void 0:o.analytics_label)&&(s.fcmOptions.analyticsLabel=o)),"function"==typeof t.onBackgroundMessageHandler?await t.onBackgroundMessageHandler(r):t.onBackgroundMessageHandler.next(r))}}function mt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function bt(e){return N.create("missing-app-config-values",{valueName:e})}wt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw bt("App Configuration Object");if(!e.name)throw bt("App Name");var t=e.options;for(const n of["projectId","apiKey","appId","messagingSenderId"])if(!t[n])throw bt(n);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}It._registerComponent(new t("messaging-sw",e=>{const t=new vt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",e=>{e.waitUntil(ht(e,t))}),self.addEventListener("pushsubscriptionchange",e=>{e.waitUntil(async function(e,t){(e=e.newSubscription)?(e=await rt(t.firebaseDependencies),await ft(t),t.vapidKey=null!=(e=null==(e=null==e?void 0:e.subscriptionOptions)?void 0:e.vapidKey)?e:Je,await async function(e){s=e.swRegistration,i=e.vapidKey;const t=await(await s.pushManager.getSubscription()||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){var e=(i+"=".repeat((4-i.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}()}));var i,n,a,o,r,s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:A(t.getKey("auth")),p256dh:A(t.getKey("p256dh"))},c=await rt(e.firebaseDependencies);if(c){if(r=c.subscriptionOptions,n=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,n&&a&&o&&r)return Date.now()>=c.createTime+6048e5?async function(e,t){try{var n=await async function(e,t){var n=await dt(e),i=lt(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(i)};let a;try{const o=await fetch(ut(e.appConfig)+"/"+t.token,i);a=await o.json()}catch(e){throw N.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(a.error)throw i=a.error.message,N.create("token-update-failed",{errorInfo:i});if(a.token)return a.token;throw N.create("token-update-no-token")}(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await st(e.firebaseDependencies,i),n}catch(t){throw await ft(e),t}}(e,{token:c.token,createTime:Date.now(),subscriptionOptions:s}):c.token;try{await pt(e.firebaseDependencies,c.token)}catch(e){console.warn(e)}return gt(e.firebaseDependencies,s)}return gt(e.firebaseDependencies,s)}(t)):await ft(t)}(e,t))}),self.addEventListener("notificationclick",e=>{e.waitUntil(async function(e){const t=null==(i=null==(n=e.notification)?void 0:n.data)?void 0:i[Ye];if(t&&!e.action){e.stopImmediatePropagation(),e.notification.close();e=t;o=(o=null!=(a=null==(a=e.fcmOptions)?void 0:a.link)?a:null==(o=e.notification)?void 0:o.click_action)||("object"==typeof(a=e.data)&&a&&Qe in a?self.location.origin:null);if(o){var n=new URL(o,self.location.href),i=new URL(self.location.origin);if(n.host===i.host){let e=await async function(e){for(const n of await mt()){var t=new URL(n.url,self.location.href);if(e.host===t.host)return n}return null}(n);if(e?e=await e.focus():(e=await self.clients.openWindow(o),await new Promise(e=>{setTimeout(e,3e3)})),e)return t.messageType=m.NOTIFICATION_CLICKED,t.isFirebaseMessaging=!0,e.postMessage(t)}}}var a,o}(e))}),t},"PUBLIC"));class yt{constructor(e,t){this.app=e,this._delegate=t,this.app=e,this._delegate=t}async getToken(t){return async function(e){return Ue(r(e),t)}(this._delegate)}async deleteToken(){return async function(e){if(navigator)return e.swRegistration||await $e(e),Fe(e);throw M.create("only-available-in-window")}(r(this._delegate))}onMessage(e){var t=this._delegate,n=t=r(t);if(navigator)return n.onMessageHandler=e,()=>{n.onMessageHandler=null};throw M.create("only-available-in-window")}onBackgroundMessage(e){var t=this._delegate,n=t=r(t),t=e;if(void 0!==self.document)throw N.create("only-available-in-sw");return n.onBackgroundMessageHandler=t,()=>{n.onBackgroundMessageHandler=null}}}v={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?x()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!=typeof window&&x()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};e.default.INTERNAL.registerComponent(new t("messaging-compat",e=>self&&"ServiceWorkerGlobalScope"in self?new yt(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new yt(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate()),"PUBLIC").setServiceProps(v)),e.default.registerVersion("@firebase/messaging-compat","0.2.4")}.apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-messaging-compat.js - be sure to load firebase-app.js first.")}});