!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(Pe,ke){"use strict";try{!function(){var l,a,e=(e=Pe)&&"object"==typeof e&&"default"in e?e:{default:e};function u(){try{return"object"==typeof indexedDB}catch(e){return}}class o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i.prototype.create)}}class i{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var a,t=t[0]||{},r=this.service+"/"+e,e=(e=this.errors[e])?(a=t,e.replace(A,(e,t)=>{var r=a[t];return null!=r?String(r):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${r}).`;return new o(r,e,t)}}const A=/\{\$([^}]+)}/g;function s(e){return e&&e._delegate?e._delegate:e}class t{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}l={DEBUG:0,0:"DEBUG",VERBOSE:1,1:"VERBOSE",INFO:2,2:"INFO",WARN:3,3:"WARN",ERROR:4,4:"ERROR",SILENT:5,5:"SILENT"};const R={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},B=l.INFO,H={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},$=(e,t,...r)=>{if(!(t<e.logLevel)){var a=(new Date).toISOString(),i=H[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${a}]  ${e.name}:`,...r)}};class x{constructor(e){this.name=e,this._logLevel=B,this._logHandler=$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in l))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...e),this._logHandler(this,l.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...e),this._logHandler(this,l.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,l.INFO,...e),this._logHandler(this,l.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,l.WARN,...e),this._logHandler(this,l.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...e),this._logHandler(this,l.ERROR,...e)}}const V=(t,e)=>e.some(e=>t instanceof e);let n,c;const q=new WeakMap,g=new WeakMap,K=new WeakMap,h=new WeakMap,d=new WeakMap;let f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return g.get(e);if("objectStoreNames"===t)return e.objectStoreNames||K.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function U(e){return"function"==typeof e?(r=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c=c||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(r)?function(...e){return r.apply(m(this),e),p(q.get(this))}:function(...e){return p(r.apply(m(this),e))}:function(e,...t){t=r.call(m(this),e,...t);return K.set(t,e.sort?e.sort():[e]),p(t)}:(e instanceof IDBTransaction&&(s=e,g.has(s)||(t=new Promise((e,t)=>{const r=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",i),s.removeEventListener("abort",i)},a=()=>{e(),r()},i=()=>{t(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",a),s.addEventListener("error",i),s.addEventListener("abort",i)}),g.set(s,t))),V(e,n=n||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,f):e);var r,s,t}function p(e){if(e instanceof IDBRequest){var s=e;const r=new Promise((e,t)=>{const r=()=>{s.removeEventListener("success",a),s.removeEventListener("error",i)},a=()=>{e(p(s.result)),r()},i=()=>{t(s.error),r()};s.addEventListener("success",a),s.addEventListener("error",i)});return r.then(e=>{e instanceof IDBCursor&&q.set(e,s)}).catch(()=>{}),d.set(r,s),r}if(h.has(e))return h.get(e);var t=U(e);return t!==e&&(h.set(e,t),d.set(t,e)),t}const m=e=>d.get(e),z=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],r=new Map;function W(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(r.get(t))return r.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,s=G.includes(a);return a in(i?IDBIndex:IDBObjectStore).prototype&&(s||z.includes(a))?(e=async function(e,...t){e=this.transaction(e,s?"readwrite":"readonly");let r=e.store;return i&&(r=r.index(t.shift())),(await Promise.all([r[a](...t),s&&e.done]))[0]},r.set(t,e),e):void 0}}f={...a=f,get:(e,t,r)=>W(e,t)||a.get(e,t,r),has:(e,t)=>!!W(e,t)||a.has(e,t)};var w="@firebase/installations",v="0.6.4";const J=1e4,Y="w:"+v,Z="FIS_v2",Q="https://firebaseinstallations.googleapis.com/v1",X=36e5,_=new i("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ee(e){return e instanceof o&&e.code.includes("request-failed")}function te({projectId:e}){return Q+`/projects/${e}/installations`}function re(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function ae(e,t){t=(await t.json()).error;return _.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function ie({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function se(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function ne(t){return new Promise(e=>{setTimeout(e,t)})}const oe=/^[cdef][\w-]{21}$/,y="";function b(e){return e.appName+"!"+e.appId}const ce=new Map;function le(e,t){e=b(e);ue(e,t);{!S&&"BroadcastChannel"in self&&((S=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{ue(e.data.key,e.data.fid)});const r=S;return r&&r.postMessage({key:e,fid:t}),void(0===ce.size&&S&&(S.close(),S=null))}}function ue(e,t){e=ce.get(e);if(e)for(const r of e)r(t)}let S=null;const E="firebase-installations-store";let ge=null;function C(){return ge=ge||function({blocked:t,upgrade:r,blocking:a,terminated:i}){const s=indexedDB.open("firebase-installations-database",1),e=p(s);return r&&s.addEventListener("upgradeneeded",e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction),e)}),t&&s.addEventListener("blocked",e=>t(e.oldVersion,e.newVersion,e)),e.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),e}({upgrade:(e,t)=>{0===t&&e.createObjectStore(E)}})}async function I(e,t){var r=b(e);const a=await C(),i=a.transaction(E,"readwrite"),s=i.objectStore(E);var n=await s.get(r);return await s.put(t,r),await i.done,n&&n.fid===t.fid||le(e,t.fid),t}async function he(e){e=b(e);const t=await C(),r=t.transaction(E,"readwrite");await r.objectStore(E).delete(e),await r.done}async function T(e,t){var r=b(e);const a=await C(),i=a.transaction(E,"readwrite"),s=i.objectStore(E);var n=await s.get(r),t=t(n);return void 0===t?await s.delete(r):await s.put(t,r),await i.done,!t||n&&n.fid===t.fid||le(e,t.fid),t}async function L(t){let r;var e=await T(t.appConfig,e=>{e=fe(e||{fid:function(){try{const t=new Uint8Array(17),r=self.crypto||self.msCrypto;r.getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){const e=function(){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}();return e.substr(0,22)}(t);return oe.test(e)?e:y}catch(e){return y}}(),registrationStatus:0}),e=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await de(e.appConfig);for(;1===t.registrationStatus;)await ne(100),t=await de(e.appConfig);if(0!==t.registrationStatus)return t;var{installationEntry:r,registrationPromise:a}=await L(e);return a||r}(e)}:{installationEntry:t};if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(_.create("app-offline"))};t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:async function(e,t){try{var r=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const a=te(e),i=ie(e),s=t.getImmediate({optional:!0});s&&(n=await s.getHeartbeatsHeader())&&i.append("x-firebase-client",n);var n={fid:r,authVersion:Z,appId:e.appId,sdkVersion:Y};const o={method:"POST",headers:i,body:JSON.stringify(n)},c=await se(()=>fetch(a,o));if(c.ok)return{fid:(n=await c.json()).fid||r,registrationStatus:2,refreshToken:n.refreshToken,authToken:re(n.authToken)};throw await ae("Create Installation",c)}(e,t);return I(e.appConfig,r)}catch(r){throw ee(r)&&409===r.customData.serverCode?await he(e.appConfig):await I(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}(e,t)}}(t,e);return r=e.registrationPromise,e.installationEntry});return e.fid===y?{installationEntry:await r}:{installationEntry:e,registrationPromise:r}}function de(e){return T(e,e=>{if(e)return fe(e);throw _.create("installation-not-found")})}function fe(e){return 1===e.registrationStatus&&e.registrationTime+J<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function pe({appConfig:e,heartbeatServiceProvider:t},r){[i,s]=[e,r.fid];const a=te(i)+`/${s}/authTokens:generate`;var i,s;const n=function(e,{refreshToken:t}){const r=ie(e);return r.append("Authorization",Z+" "+t),r}(e,r),o=t.getImmediate({optional:!0});o&&(c=await o.getHeartbeatsHeader())&&n.append("x-firebase-client",c);var c={installation:{sdkVersion:Y,appId:e.appId}};const l={method:"POST",headers:n,body:JSON.stringify(c)},u=await se(()=>fetch(a,l));if(u.ok)return re(await u.json());throw await ae("Generate Auth Token",u)}async function M(s,n=!1){let o;var e=await T(s.appConfig,e=>{if(!we(e))throw _.create("not-registered");var t,r,a,i=e.authToken;if(n||2!==(t=i).requestStatus||(r=t,(a=Date.now())<r.creationTime||r.creationTime+r.expiresIn<a+X)){if(1===i.requestStatus)return o=async function(e,t){let r=await me(e.appConfig);for(;1===r.authToken.requestStatus;)await ne(100),r=await me(e.appConfig);var a=r.authToken;return 0===a.requestStatus?M(e,t):a}(s,n),e;if(navigator.onLine)return t=e,i={requestStatus:1,requestTime:Date.now()},i=Object.assign(Object.assign({},t),{authToken:i}),o=async function(e,t){try{var r=await pe(e,t),a=Object.assign(Object.assign({},t),{authToken:r});return await I(e.appConfig,a),r}catch(a){throw!ee(a)||401!==a.customData.serverCode&&404!==a.customData.serverCode?(r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),await I(e.appConfig,r)):await he(e.appConfig),a}}(s,i),i;throw _.create("app-offline")}return e});return o?await o:e.authToken}function me(e){return T(e,e=>{if(!we(e))throw _.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+J<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function we(e){return void 0!==e&&2===e.registrationStatus}function D(e){return _.create("missing-app-config-values",{valueName:e})}const ve="installations",F=(ke._registerComponent(new t(ve,e=>{e=e.getProvider("app").getImmediate();return{app:e,appConfig:function(e){if(!e||!e.options)throw D("App Configuration");if(!e.name)throw D("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw D(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(e),heartbeatServiceProvider:ke._getProvider(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),ke._registerComponent(new t("installations-internal",e=>{e=e.getProvider("app").getImmediate();const t=ke._getProvider(e,ve).getImmediate();return{getId:()=>async function(e){const{installationEntry:t,registrationPromise:r}=await L(e);return(r||M(e)).catch(console.error),t.fid}(t),getToken:e=>async function(e,t=!1){var r;return await((r=(await L(e)).registrationPromise)&&await r),(await M(e,t)).token}(t,e)}},"PRIVATE")),ke.registerVersion(w,v),ke.registerVersion(w,v,"esm2017"),"@firebase/remote-config");class _e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const P=new i("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),ye=["1","true","t","yes","y","on"];class k{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&0<=ye.indexOf(this._value.toLowerCase())}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return e=isNaN(e)?0:e}getSource(){return this._source}}async function be(e){const t=s(e);var[e,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(e&&e.config&&e.eTag&&e.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(e.config),t._storage.setActiveConfigEtag(e.eTag)]),!0)}function Se(e){const t=s(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}async function Ee(e){const t=s(e),r=new _e;setTimeout(async()=>{r.abort()},t.settings.fetchTimeoutMillis);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:r}),await t._storageCache.setLastFetchStatus("success")}catch(r){e=(e=r)instanceof o&&-1!==e.code.indexOf("fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(e),r}}function O(e,t){const r=s(e);r._isInitializationComplete||r._logger.debug(`A value was requested for key "${t}" before SDK initialization completed.`+" Await on ensureInitialized if the intent was to get a previously activated value.");e=r._storageCache.getActiveConfig();return e&&void 0!==e[t]?new k("remote",e[t]):r.defaultConfig&&void 0!==r.defaultConfig[t]?new k("default",String(r.defaultConfig[t])):(r._logger.debug(`Returning static value for key "${t}".`+" Define a default or remote value if this is unintentional."),new k("static"))}class Ce{constructor(e,t,r,a){this.client=e,this.storage=t,this.storageCache=r,this.logger=a}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var t=Date.now()-t,r=t<=e;return this.logger.debug("Config fetch cache check."+` Cache age millis: ${t}.`+` Cache max age millis (minimumFetchIntervalMillis setting): ${e}.`+` Is cache hit: ${r}.`),r}async fetch(e){var[t,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return r;e.eTag=r&&r.eTag,r=await this.client.fetch(e);const a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&a.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(a),r}}class Ie{constructor(e,t,r,a,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=a,this.apiKey=i,this.appId=s}async fetch(r){var t,[e,a]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=`+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":r.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:a,app_id:this.appId,language_code:(t=navigator).languages&&t.languages[0]||t.language},a={method:"POST",headers:s,body:JSON.stringify(a)},i=fetch(i,a),a=new Promise((e,t)=>{r.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",t(e)})});let n;try{await Promise.race([i,a]),n=await i}catch(t){let e="fetch-client-network";throw"AbortError"===(null==t?void 0:t.name)&&(e="fetch-timeout"),P.create(e,{originalErrorMessage:null==t?void 0:t.message})}let o=n.status;i=n.headers.get("ETag")||void 0;let c,l;if(200===n.status){let e;try{e=await n.json()}catch(t){throw P.create("fetch-client-parse",{originalErrorMessage:null==t?void 0:t.message})}c=e.entries,l=e.state}if("INSTANCE_STATE_UNSPECIFIED"===l?o=500:"NO_CHANGE"===l?o=304:"NO_TEMPLATE"!==l&&"EMPTY_CONFIG"!==l||(c={}),304!==o&&200!==o)throw P.create("fetch-status",{httpStatus:o});return{status:o,eTag:i,config:c}}}class Te{constructor(e,t){this.client=e,this.storage=t}async fetch(e){var t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(t,{throttleEndTimeMillis:r,backoffCount:a}){var i=t.signal,s=r;await new Promise((e,t)=>{var r=Math.max(s-Date.now(),0);const a=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(a),t(P.create("fetch-throttle",{throttleEndTimeMillis:s}))})});try{var n=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),n}catch(e){if(!function(e){if(e instanceof o&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(e))throw e;r={throttleEndTimeMillis:Date.now()+(r=2,n=1e3*Math.pow(r,a),r=Math.round(.5*n*(Math.random()-.5)*2),Math.min(144e5,n+r)),backoffCount:a+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(t,r)}}}class Le{constructor(e,t,r,a,i){this.app=e,this._client=t,this._storageCache=r,this._storage=a,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function N(e,t){e=e.target.error||void 0;return P.create(t,{originalErrorMessage:e&&(null==e?void 0:e.message)})}const j="app_namespace_store";class Me{constructor(e,t,r,a=function(){return new Promise((t,r)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=e=>{r(N(e,"storage-open"))},e.onsuccess=e=>{t(e.target.result)},e.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(j,{keyPath:"compositeKey"})}}catch(e){r(P.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=a}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(n){const o=await this.openDbPromise;return new Promise((t,r)=>{const e=o.transaction([j],"readonly"),a=e.objectStore(j);var i=this.createCompositeKey(n);try{const s=a.get(i);s.onerror=e=>{r(N(e,"storage-get"))},s.onsuccess=e=>{e=e.target.result;t(e?e.value:void 0)}}catch(e){r(P.create("storage-get",{originalErrorMessage:null==e?void 0:e.message}))}})}async set(n,o){const c=await this.openDbPromise;return new Promise((e,t)=>{const r=c.transaction([j],"readwrite"),a=r.objectStore(j);var i=this.createCompositeKey(n);try{const s=a.put({compositeKey:i,value:o});s.onerror=e=>{t(N(e,"storage-set"))},s.onsuccess=()=>{e()}}catch(e){t(P.create("storage-set",{originalErrorMessage:null==e?void 0:e.message}))}})}async delete(n){const o=await this.openDbPromise;return new Promise((e,t)=>{const r=o.transaction([j],"readwrite"),a=r.objectStore(j);var i=this.createCompositeKey(n);try{const s=a.delete(i);s.onerror=e=>{t(N(e,"storage-delete"))},s.onsuccess=()=>{e()}}catch(e){t(P.create("storage-delete",{originalErrorMessage:null==e?void 0:e.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class De{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){var e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig();(e=await e)&&(this.lastFetchStatus=e),(t=await t)&&(this.lastSuccessfulFetchTimestampMillis=t),(r=await r)&&(this.activeConfig=r)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}ke._registerComponent(new t("remote-config",function(e,{instanceIdentifier:t}){var r=e.getProvider("app").getImmediate(),e=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw P.create("registration-window");if(!u())throw P.create("indexed-db-unavailable");var{projectId:a,apiKey:i,appId:s}=r.options;if(!a)throw P.create("registration-project-id");if(!i)throw P.create("registration-api-key");if(!s)throw P.create("registration-app-id");t=t||"firebase";const n=new Me(s,r.name,t),o=new De(n),c=new x(F);return c.logLevel=l.ERROR,s=new Ie(e,ke.SDK_VERSION,t,a,i,s),s=new Te(s,n),s=new Ce(s,n,o,c),Se(s=new Le(r,s,o,n,c)),s},"PUBLIC").setMultipleInstances(!0)),ke.registerVersion(F,"0.4.4"),ke.registerVersion(F,"0.4.4","esm2017");class Fe{constructor(e,t){this.app=e,this._delegate=t}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(e){this._delegate.defaultConfig=e}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(e){this._delegate.settings=e}activate(){return be(this._delegate)}ensureInitialized(){return Se(this._delegate)}fetch(){return Ee(this._delegate)}fetchAndActivate(){return async function(e){return await Ee(e=s(e)),be(e)}(this._delegate)}getAll(){{var r=this._delegate,e,t;const a=s(r);return[e={},t={}]=[a._storageCache.getActiveConfig(),a.defaultConfig],Object.keys(Object.assign(Object.assign({},e),t)).reduce((e,t)=>(e[t]=O(r,t),e),{})}}getBoolean(e){return O(s(this._delegate),e).asBoolean()}getNumber(e){return O(s(this._delegate),e).asNumber()}getString(e){return O(s(this._delegate),e).asString()}getValue(e){return O(this._delegate,e)}setLogLevel(e){{var t;const r=s(this._delegate);switch(e){case"debug":r._logger.logLevel=l.DEBUG;break;case"silent":r._logger.logLevel=l.SILENT;break;default:r._logger.logLevel=l.ERROR}return}}}(w=e.default).INTERNAL.registerComponent(new t("remoteConfig-compat",function(e,{instanceIdentifier:t}){var r=e.getProvider("app-compat").getImmediate(),e=e.getProvider("remote-config").getImmediate({identifier:t});return new Fe(r,e)},"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:async function(){if(!u())return!1;try{return await new Promise((t,r)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var e;r((null==(e=i.error)?void 0:e.message)||"")}}catch(e){r(e)}})}catch(e){return!1}}})),w.registerVersion("@firebase/remote-config-compat","0.2.4")}.apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-remote-config-compat.js - be sure to load firebase-app.js first.")}});